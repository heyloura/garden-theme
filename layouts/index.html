{{ define "main" }}
{{ if templates.Exists "partials/microhook-post-list.html" }}
{{ partial "microhook-post-list.html" . }}
{{ else }}

{{ if templates.Exists "partials/microhook-before-post-list.html" }}
{{ partial "microhook-before-post-list.html" . }}
{{ end }}
<table style="display: none;">
    {{ range $key, $value := .Site.Params }}
        {{ printf "<tr><td>%#v</td><td>%#v</td></tr>" $key $value | safeHTML }}
    {{ end }}
</table>
    {{ range .Site.Pages }}
	<table style="display: none;">
		{{ range $key, $value := .Params }}
			{{ printf "<tr><td>%#v</td><td>%#v</td></tr>" $key $value | safeHTML }}
		{{ end }}
	</table>
    {{ end }}
<main class="h-feed">
<ol class="toc-list" role="list">
    <li>
        <a href="#Promise-Basics">
            <span class="title">1. Promise Basics<span class="leaders" aria-hidden="true"></span></span>
            <span data-href="#Promise-Basics" class="page"><span class="visually-hidden">Page&nbsp;</span>9</span>
        </a>
        <ol role="list">

            <li>
                <a href="#Promise-Basics-The-Promise-Lifecycle">
                    <span class="title">The Promise Lifecycle<span class="leaders" aria-hidden="true"></span></span>
                    <span data-href="#Promise-Basics-The-Promise-Lifecycle" class="page"><span
                            class="visually-hidden">Page&nbsp;</span>17</span>
                </a>
            </li>

            <li>
                <a href="#Promise-Basics-Creating-New-Unsettled-Promises">
                    <span class="title">Creating New (Unsettled) Promises<span class="leaders"
                            aria-hidden="true"></span></span> <span
                        data-href="#Promise-Basics-Creating-New-Unsettled-Promises" class="page"><span
                            class="visually-hidden">Page&nbsp;</span>21</span>
                </a>
            </li>

            <li>
                <a href="#Promise-Basics-Creating-Settled-Promises">
                    <span class="title">Creating Settled Promises<span class="leaders" aria-hidden="true"></span></span>
                    <span data-href="#Promise-Basics-Creating-Settled-Promises" class="page"><span
                            class="visually-hidden">Page&nbsp;</span>24</span>
                </a>
            </li>

            <li>
                <a href="#Promise-Basics-Summary">
                    <span class="title">Summary<span class="leaders" aria-hidden="true"></span></span> <span
                        data-href="#Promise-Basics-Summary" class="page"><span
                            class="visually-hidden">Page&nbsp;</span>27</span>
                </a>
            </li>

        </ol>
    </li>
    <li>
        <a href="#Chaining-Promises">
            <span class="title">2. Chaining Promises<span class="leaders" aria-hidden="true"></span></span>
            <span data-href="#Chaining-Promises" class="page"><span class="visually-hidden">Page&nbsp;</span>28</span>
        </a>
        <ol role="list">

            <li>
                <a href="#Chaining-Promises-Catching-Errors">
                    <span class="title">Catching Errors<span class="leaders" aria-hidden="true"></span></span> <span
                        data-href="#Chaining-Promises-Catching-Errors" class="page"><span
                            class="visually-hidden">Page&nbsp;</span>30</span>
                </a>
            </li>

            <li>
                <a href="#Chaining-Promises-Using-finally-in-Promise-Chains">
                    <span class="title">Using finally() in Promise Chains<span class="leaders"
                            aria-hidden="true"></span></span> <span
                        data-href="#Chaining-Promises-Using-finally-in-Promise-Chains" class="page"><span
                            class="visually-hidden">Page&nbsp;</span>34</span>
                </a>
            </li>

            <li>
                <a href="#Chaining-Promises-Returning-Values-in-Promise-Chains">
                    <span class="title">Returning Values in Promise Chains<span class="leaders"
                            aria-hidden="true"></span></span> <span
                        data-href="#Chaining-Promises-Returning-Values-in-Promise-Chains" class="page"><span
                            class="visually-hidden">Page&nbsp;</span>35</span>
                </a>
            </li>

            <li>
                <a href="#Chaining-Promises-Returning-Promises-in-Promise-Chains">
                    <span class="title">Returning Promises in Promise Chains<span class="leaders"
                            aria-hidden="true"></span></span> <span
                        data-href="#Chaining-Promises-Returning-Promises-in-Promise-Chains" class="page"><span
                            class="visually-hidden">Page&nbsp;</span>42</span>
                </a>
            </li>

            <li>
                <a href="#Chaining-Promises-Summary">
                    <span class="title">Summary<span class="leaders" aria-hidden="true"></span></span> <span
                        data-href="#Chaining-Promises-Summary" class="page"><span
                            class="visually-hidden">Page&nbsp;</span>43</span>
                </a>
            </li>

        </ol>
    </li>
    <li>
        <a href="#Working-with-Multiple-Promises">
            <span class="title">3. Working with Multiple Promises<span class="leaders" aria-hidden="true"></span></span>
            <span data-href="#Working-with-Multiple-Promises" class="page"><span
                    class="visually-hidden">Page&nbsp;</span>43</span>
        </a>
        <ol role="list">

            <li>
                <a href="#Working-with-Multiple-Promises-The-Promiseall-Method">
                    <span class="title">The Promise.all() Method<span class="leaders" aria-hidden="true"></span></span>
                    <span data-href="#Working-with-Multiple-Promises-The-Promiseall-Method" class="page"><span
                            class="visually-hidden">Page&nbsp;</span>51</span>
                </a>
            </li>

            <li>
                <a href="#Working-with-Multiple-Promises-The-PromiseallSettled-Method">
                    <span class="title">The Promise.allSettled() Method<span class="leaders"
                            aria-hidden="true"></span></span> <span
                        data-href="#Working-with-Multiple-Promises-The-PromiseallSettled-Method" class="page"><span
                            class="visually-hidden">Page&nbsp;</span>57</span>
                </a>
            </li>

            <li>
                <a href="#Working-with-Multiple-Promises-The-Promiseany-Method">
                    <span class="title">The Promise.any() Method<span class="leaders" aria-hidden="true"></span></span>
                    <span data-href="#Working-with-Multiple-Promises-The-Promiseany-Method" class="page"><span
                            class="visually-hidden">Page&nbsp;</span>61</span>
                </a>
            </li>

            <li>
                <a href="#Working-with-Multiple-Promises-The-Promiserace-Method">
                    <span class="title">The Promise.race() Method<span class="leaders" aria-hidden="true"></span></span>
                    <span data-href="#Working-with-Multiple-Promises-The-Promiserace-Method" class="page"><span
                            class="visually-hidden">Page&nbsp;</span>65</span>
                </a>
            </li>

            <li>
                <a href="#Working-with-Multiple-Promises-Summary">
                    <span class="title">Summary<span class="leaders" aria-hidden="true"></span></span> <span
                        data-href="#Working-with-Multiple-Promises-Summary" class="page"><span
                            class="visually-hidden">Page&nbsp;</span>67</span>
                </a>
            </li>

        </ol>
    </li>
    <li>
        <a href="#Async-Functions-and-Await-Expressions">
            <span class="title">4. Async Functions and Await Expressions<span class="leaders"
                    aria-hidden="true"></span></span>
            <span data-href="#Async-Functions-and-Await-Expressions" class="page"><span
                    class="visually-hidden">Page&nbsp;</span>67</span>
        </a>
        <ol role="list">

            <li>
                <a href="#Async-Functions-and-Await-Expressions-Defining-Async-Functions">
                    <span class="title">Defining Async Functions<span class="leaders" aria-hidden="true"></span></span>
                    <span data-href="#Async-Functions-and-Await-Expressions-Defining-Async-Functions" class="page"><span
                            class="visually-hidden">Page&nbsp;</span>69</span>
                </a>
            </li>

            <li>
                <a href="#Async-Functions-and-Await-Expressions-What-Makes-Async-Functions-Different">
                    <span class="title">What Makes Async Functions Different<span class="leaders"
                            aria-hidden="true"></span></span> <span
                        data-href="#Async-Functions-and-Await-Expressions-What-Makes-Async-Functions-Different"
                        class="page"><span class="visually-hidden">Page&nbsp;</span>81</span>
                </a>
            </li>

            <li>
                <a href="#Async-Functions-and-Await-Expressions-Summary">
                    <span class="title">Summary<span class="leaders" aria-hidden="true"></span></span> <span
                        data-href="#Async-Functions-and-Await-Expressions-Summary" class="page"><span
                            class="visually-hidden">Page&nbsp;</span>83</span>
                </a>
            </li>

        </ol>
    </li>
    <li>
        <a href="#Unhandled-Rejection-Tracking">
            <span class="title">5. Unhandled Rejection Tracking<span class="leaders" aria-hidden="true"></span></span>
            <span data-href="#Unhandled-Rejection-Tracking" class="page"><span
                    class="visually-hidden">Page&nbsp;</span>83</span>
        </a>
        <ol role="list">

            <li>
                <a href="#Unhandled-Rejection-Tracking-Detecting-Unhandled-Rejections">
                    <span class="title">Detecting Unhandled Rejections<span class="leaders"
                            aria-hidden="true"></span></span> <span
                        data-href="#Unhandled-Rejection-Tracking-Detecting-Unhandled-Rejections" class="page"><span
                            class="visually-hidden">Page&nbsp;</span>85</span>
                </a>
            </li>

            <li>
                <a href="#Unhandled-Rejection-Tracking-Web-Browser-Unhandled-Rejection-Tracking">
                    <span class="title">Web Browser Unhandled Rejection Tracking<span class="leaders"
                            aria-hidden="true"></span></span> <span
                        data-href="#Unhandled-Rejection-Tracking-Web-Browser-Unhandled-Rejection-Tracking"
                        class="page"><span class="visually-hidden">Page&nbsp;</span>90</span>
                </a>
            </li>

            <li>
                <a href="#Unhandled-Rejection-Tracking-Nodejs-Unhandled-Rejection-Tracking">
                    <span class="title">Node.js Unhandled Rejection Tracking<span class="leaders"
                            aria-hidden="true"></span></span> <span
                        data-href="#Unhandled-Rejection-Tracking-Nodejs-Unhandled-Rejection-Tracking" class="page"><span
                            class="visually-hidden">Page&nbsp;</span>94</span>
                </a>
            </li>

            <li>
                <a href="#Unhandled-Rejection-Tracking-Summary">
                    <span class="title">Summary<span class="leaders" aria-hidden="true"></span></span> <span
                        data-href="#Unhandled-Rejection-Tracking-Summary" class="page"><span
                            class="visually-hidden">Page&nbsp;</span>95</span>
                </a>
            </li>

        </ol>
    </li>
    <li>
        <a href="#Final-Thoughts">
            <span class="title">Final Thoughts<span class="leaders" aria-hidden="true"></span></span>
            <span data-href="#Final-Thoughts" class="page"><span class="visually-hidden">Page&nbsp;</span>96</span>
        </a>
        <ol role="list">

            <li>
                <a href="#Final-Thoughts-Download-the-Extras">
                    <span class="title">Download the Extras<span class="leaders" aria-hidden="true"></span></span> <span
                        data-href="#Final-Thoughts-Download-the-Extras" class="page"><span
                            class="visually-hidden">Page&nbsp;</span>96</span>
                </a>
            </li>

            <li>
                <a href="#Final-Thoughts-Support-the-Author">
                    <span class="title">Support the Author<span class="leaders" aria-hidden="true"></span></span> <span
                        data-href="#Final-Thoughts-Support-the-Author" class="page"><span
                            class="visually-hidden">Page&nbsp;</span>96</span>
                </a>
            </li>

            <li>
                <a href="#Final-Thoughts-Help-and-Support">
                    <span class="title">Help and Support<span class="leaders" aria-hidden="true"></span></span> <span
                        data-href="#Final-Thoughts-Help-and-Support" class="page"><span
                            class="visually-hidden">Page&nbsp;</span>97</span>
                </a>
            </li>

            <li>
                <a href="#Final-Thoughts-Follow-the-Author">
                    <span class="title">Follow the Author<span class="leaders" aria-hidden="true"></span></span> <span
                        data-href="#Final-Thoughts-Follow-the-Author" class="page"><span
                            class="visually-hidden">Page&nbsp;</span>102</span>
                </a>
            </li>

        </ol>
    </li>
</ol>
	{{ $paginator := .Paginate (where .Site.Pages.ByDate.Reverse "Type" "post") }}
	{{ range .Paginator.Pages }}
	<article class="h-entry {{ range .Params.categories }} {{ . | urlize | lower }}{{ end }}">
		{{ if templates.Exists "partials/microhook-post-list-byline.html" }}
		{{ partial "microhook-post-list-byline.html" . }}
		{{ else }}
		<a href="{{ .Permalink }}" class="u-url"><time class="dt-published" datetime="{{ .Date.Format "2006-01-02 15:04:05 -0700" }}">{{ .Date.Format "Jan 2, 2006" }}</time> ∞</a>
		{{ end }}
		{{ if .Title }}
			<h2 class="p-name"><a href="{{ .Permalink }}">{{ .Title }}</a></h2>
				{{ if in .RawContent "<!--more-->" }}
					<div class="p-summary">
						{{ $splitContents := split .RawContent "<!--more-->" }}
						{{ $summary := index $splitContents 0 }}
						{{ $summary := replaceRE "\\[\\^.*?\\]" "" $summary }}
						{{ $summary := replaceRE "\\n\\[\\^.*?\\]:.*" "" $summary }}
						{{ $summary | markdownify }}
						<p><a class="read-more" href="{{ .Permalink }}">
							{{ if templates.Exists "partials/microhook-read-more-text.html" }}
							{{ partial "microhook-read-more-text.html" . }}
							{{ else }}
							Read More →
							{{ end }}
						</a></p>
					</div>
				{{ else if .Params.custom_summary }}
				<div class="p-summary">
					<p>{{ .Summary | safeHTML }}<p>
				</div>
				{{ else }}
					<div class="e-content">
						{{ .Content }}
					</div>
				{{ end }}
		{{ else }}
			<div class="e-content">
				{{ .Content }}
			</div>
		{{ end }}
		{{ if templates.Exists "partials/microhook-below-post-in-list.html" }}
		{{ partial "microhook-below-post-in-list.html" . }}
		{{ end }}
		</article>
	{{ end }}
</main>
{{ if templates.Exists "partials/microhook-after-post-list.html" }}
{{ partial "microhook-after-post-list.html" . }}
{{ end }}
{{ if templates.Exists "partials/microhook-pagination.html" }}
{{ partial "microhook-pagination.html" . }}
{{ else }}
<nav>
    {{ if $paginator.HasPrev }}
    <span class="prev">
        <a href="{{ $paginator.Prev.URL }}" title="Previous Page"><span class="arrow">← Newer Posts</span></a>
    </span>
    {{ end }}
    {{ if $paginator.HasNext }}
    <span class="next">
        <a href="{{ $paginator.Next.URL }}"><span class="arrow">Older Posts →</span></a>
    </span>
    {{ end }}
</nav>
{{ end }}
{{ end }}
{{ end }}